const getRoomConfig=function(e){let i={url:e.room.url||"ws://127.0.0.1:8080",roomName:e.room.name||"ROOM1",pin:e.room.pin||"1234",nickname:e.room.nickName||"User1"};return void 0!==e.room.failedProbesThreshold&&(i.failedProbesThreshold=e.room.failedProbesThreshold),void 0!==e.room.pingInterval&&(i.pingInterval=e.room.pingInterval),i},getVideoStreams=async function(e){let i=[];return e.media&&e.media.video&&e.media.video.tracks&&(i=await getStreams(e.media.video.tracks)),i},getAudioStreams=async function(e){let i=[];return e.media&&e.media.audio&&e.media.audio.tracks&&(i=await getStreams(e.media.audio.tracks)),i},getStreams=async function(e){let i=[];for(let o of e){let e=await getMedia(o);e&&i.push({stream:e,encodings:o.encodings,source:o.source,type:o.type})}return i},getMedia=async function(e){let i=!1;const o={};let a;return"mic"===e.source?(o.audio={},e.constraints&&(o.audio=e.constraints),o.audio.stereo=1!==e.channels,e.channels&&2===e.channels&&(o.audio.echoCancellation=!1,o.audio.googEchoCancellation=!1)):"camera"===e.source?(o.video={},e.constraints&&(o.video=e.constraints),o.video.width=e.width,o.video.height=e.height):"screen"===e.source&&(o.video={},e.constraints&&(o.video=e.constraints),o.video.width=e.width,o.video.height=e.height,i=!0),a=i?await navigator.mediaDevices.getDisplayMedia(o):await navigator.mediaDevices.getUserMedia(o),a};